"use strict";

var _utils = require("./../utils");

describe('<Accordion/> utils', function () {
  describe('insertChildOrderly', function () {
    it('should insert the child in the right order if the item in the nodes is at middle', function () {
      var childrenRefs = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item4'
      }, {
        ref: 'item5'
      }];
      var nodes = ['item1', 'item2', 'item3', 'item4', 'item5'];
      var expectedNodes = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }, {
        ref: 'item4'
      }, {
        ref: 'item5'
      }];
      expect((0, _utils.insertChildOrderly)(childrenRefs, {
        ref: 'item3'
      }, nodes)).toEqual(expectedNodes);
    });
    it('should insert the child in the right order if the item in the nodes is at end', function () {
      var childrenRefs = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }];
      var nodes = ['item1', 'item2', 'item3', 'item4'];
      var expectedNodes = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }, {
        ref: 'item4'
      }];
      expect((0, _utils.insertChildOrderly)(childrenRefs, {
        ref: 'item4'
      }, nodes)).toEqual(expectedNodes);
    });
  });
  describe('getChildAccordionSectionNodes', function () {
    var elements = [{
      element: 'a',
      innerText: 'lettuce'
    }, {
      element: 'a',
      innerText: 'tomato'
    }];
    var ref = {
      querySelectorAll: jest.fn(function () {
        return elements;
      })
    };
    it('should call querySelectorAll with the right value', function () {
      (0, _utils.getChildAccordionSectionNodes)(ref);
      expect(ref.querySelectorAll).toHaveBeenCalledWith('li[data-id="accordion-section-li"]');
    });
    it('should return the elements resolved by querySelectorAll', function () {
      expect((0, _utils.getChildAccordionSectionNodes)(ref)).toEqual(elements);
    });
    it('should return an empty array if anything is passed', function () {
      expect((0, _utils.getChildAccordionSectionNodes)()).toEqual([]);
    });
  });
});